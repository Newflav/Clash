[custom]
port: 7890           # HTTP ä»£ç†ç«¯å£
socks-port: 7891     # Socks ç«¯å£
redir-port: 7892     # Redir ç«¯å£
mixed-port: 7893     # æ··åˆç«¯å£
allow-lan: true      # å…è®¸å±€åŸŸç½‘è¿æ¥
bind-address: "*"    # åœ°å€ç»‘å®š
mode: rule           # è§„åˆ™æ¨¡å¼
log-level: info      # æ—¥å¿—çº§åˆ«
ipv6: false          # IPV6å¼€å…³
external-controller: 127.0.0.1:9090

dns:
  enable: true       # ä¸ä½¿ç”¨ç³»ç»Ÿ DNS
  ipv6: false        # å…³é—­ IPV6
  listen: 0.0.0.0:53 # dns ç›‘å¬
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - "*.lan"
    - localhost.ptlogin2.qq.com
    - +.srv.nintendo.net
    - +.stun.playstation.net
    - +.msftconnecttest.com
    - +.msftncsi.com
    - +.xboxlive.com
    - msftconnecttest.com
    - xbox.*.microsoft.com
    - "*.battlenet.com.cn"
    - "*.battlenet.com"
    - "*.blzstatic.cn"
    - "*.battle.net"
  nameserver:        # é»˜è®¤ DNS æœåŠ¡
    - 223.5.5.5
    - 119.29.29.29
  fallback:          # å›½å¤– DNS æœåŠ¡å™¨
    - https://cloudflare-dns.com/dns-query
    - https://dns.google/dns-query
    - https://dns.alidns.com/dns-query
  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
      - 240.0.0.0/4

ruleset=REJECT,https://raw.githubusercontent.com/Cats-Team/AdRules/main/adrules.list
ruleset=Tiktok,https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Surge/TikTok.list
ruleset=Spotify,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Spotify/Spotify.list
ruleset=OpenAI,https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Loon/Rule/OpenAI.list
ruleset=Twitter,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Twitter/Twitter.list
ruleset=YouTube,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/YouTube/YouTube.list
ruleset=Telegram,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Telegram/Telegram.list
ruleset=Google,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Google/Google.list
ruleset=Instagram,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Instagram/Instagram.list
ruleset=å…¨çƒåŠ é€Ÿ,https://raw.githubusercontent.com/Newflav/Clash/main/Global.list
ruleset=å“”å“©å“”å“©,https://raw.githubusercontent.com/ddgksf2013/Filter/master/StreamingSE.list
ruleset=DIRECT,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/China/China.list
ruleset=DIRECT,[]GEOIP,CN,no-resolve
ruleset=Final,[]FINAL

custom_proxy_group=Final`select`[]å»¶è¿Ÿæœ€ä½`[]DIRECT`[]æ—¥æœ¬èŠ‚ç‚¹
custom_proxy_group=Tiktok`select`[]æ—¥æœ¬èŠ‚ç‚¹
custom_proxy_group=Google`select`[]ç¾å›½èŠ‚ç‚¹
custom_proxy_group=OpenAI`select`[]ç¾å›½èŠ‚ç‚¹
custom_proxy_group=YouTube`select`[]æ–°åŠ å¡èŠ‚ç‚¹
custom_proxy_group=Spotify`select`[]é¦™æ¸¯èŠ‚ç‚¹
custom_proxy_group=Telegram`select`[]æ—¥æœ¬èŠ‚ç‚¹
custom_proxy_group=Twitter`select`[]å°æ¹¾èŠ‚ç‚¹
custom_proxy_group=Instagram`select`[]æ–°åŠ å¡èŠ‚ç‚¹
custom_proxy_group=å…¨çƒåŠ é€Ÿ`select`[]ç¾å›½èŠ‚ç‚¹
custom_proxy_group=å“”å“©å“”å“©`select`[]DIRECT`[]é¦™æ¸¯èŠ‚ç‚¹

custom_proxy_group=å»¶è¿Ÿæœ€ä½`url-test`^((?!(ä¼šå‘˜|ç½‘æ˜“)).)*$`http://www.gstatic.com/generate_204`300
custom_proxy_group=é¦™æ¸¯èŠ‚ç‚¹`url-test`(?=.*(ğŸ‡­ğŸ‡°|æ¸¯|HK|(?i)Hong))^((?!(ä¿„|å°|æ—¥|æ–°|ç¾)).)*$`http://www.gstatic.com/generate_204`300
custom_proxy_group=å°æ¹¾èŠ‚ç‚¹`url-test`(?=.*(ğŸ‡¹ğŸ‡¼|å°|TW|(?i)Taiwan))^((?!(ä¿„|æ¸¯|æ—¥|æ–°|ç¾)).)*$`http://www.gstatic.com/generate_204`300
custom_proxy_group=æ—¥æœ¬èŠ‚ç‚¹`url-test`(?=.*(ğŸ‡¯ğŸ‡µ|æ—¥|JP|(?i)Japan))^((?!(ä¿„|æ¸¯|å°|æ–°|ç¾)).)*$`http://www.gstatic.com/generate_204`300
custom_proxy_group=ç¾å›½èŠ‚ç‚¹`url-test`(?=.*(ğŸ‡ºğŸ‡¸|ç¾|US|(?i)States|American))^((?!(ä¿„|æ¸¯|å°|æ—¥|æ–°)).)*$`http://www.gstatic.com/generate_204`300
custom_proxy_group=æ–°åŠ å¡èŠ‚ç‚¹`url-test`(?=.*(ğŸ‡¸ğŸ‡¬|æ–°|ç‹®|ç…|SG|(?i)Singapore))^((?!(ä¿„|æ¸¯|å°|æ—¥|ç¾)).)*$`http://www.gstatic.com/generate_204`300

enable_rule_generator=true
overwrite_original_rules=true
